import vue from '@vitejs/plugin-vue'
import path from 'path'
import { defineConfig } from 'vite'

const fs = require('fs');

export default defineConfig({

    base: './',
    plugins: [vue()],
    optimizeDeps: {
        include: ['schart.js']
    },
    // server: {
    //     host: '0.0.0.0',
    //     port: 3000,
    //     open: false,
    //     strictPort: false,
    //     https: {
    //         cert: fs.readFileSync(path.resolve(__dirname, './hpccube.com_public.crt')),
    // 	    key: fs.readFileSync(path.resolve(__dirname, './hpccube.com.key')),
    //     },
    //     // https: false,
    //     // cors: true,
    //     // proxy: {
    //     //     '/api': {
    //     //       target: 'http://localhost:3000',
    //     //       changeOrigin: true,
    //     //       rewrite:  (path) => path.replace(/^\/api/, ''),
    //     //     }
    //     // }
    // },
    resolve: {
        alias: {
            ///!*
            //  路径别名
            //  若为文件系统路径必须是绝对路径的形式，否则将以别名原样呈现，不会解析为文件系统路径路径
            //*!/
            //'@': process.cwd()+'/src'
            //'@':path.resolve('src')
            //'@':path.resolve(__dirname, 'src')
            '@': path.resolve(__dirname, './src')
        },
    },
    css: {
        preprocessorOptions: {
            scss: {
                // 两种方式都可以
                additionalData: '@import "@/assets/scss/global.scss";'
                // additionalData: '@use "@/assets/scss/global.scss" as *;'
                }
        }
        },


})

/*export default {

    base: './',
    plugins: [vue()],
    optimizeDeps: {
        include: ['schart.js']
    },
}*/
